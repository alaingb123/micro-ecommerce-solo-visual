<div class="product-box">

    <!--
      - PRODUCT MINIMAL
    -->

<style>
  html {
  scroll-behavior: smooth;
}

</style>


    <div class="product-minimal">

        {% if new_products %}
      <div class="product-showcase">

        {% if no_nuevos == False %}
        <h2 class="title">Nuevos</h2>
            {% else %}
            <h2 class="title">Más like</h2>
            {% endif %}

        <div class="showcase-wrapper  has-scrollbar ">

          <div class="showcase-container">
       {% for product in new_products %}
            <div class="showcase">

              <a href="{% url 'products:detail' product.handle %}" class="showcase-img-box">

                   <img src=" {% if product.image %}  {{ product.image.url }}"   {% endif %} alt="{{ product.name }}" width="70" class="showcase-img">

              </a>

              <div class="showcase-content">

                <a href="{% url 'products:detail' product.handle %}">
                  <h4 class="showcase-title">{{ product.name}}</h4>
                </a>

                {% if product.category %}

                <a href="{% url 'products:list' %}?category={{ product.category.pk }}" class="showcase-category">{{ product.category }}</a>

                   {% endif %}


                <div class="price-box">

                  <p class="price">{{ product.price }} cup</p>

                </div>

              </div>

            </div>
              {% endfor %}

          </div>



        </div>

      </div>
        {% endif %}

      <div class="product-showcase">

        <h2 class="title">Tendencia</h2>

        <div class="showcase-wrapper  has-scrollbar">

          <div class="showcase-container">

            {% for product in trending_products %}

            <div class="showcase">

              <a href="{% url 'products:detail' product.handle %}" class="showcase-img-box">
                <img src=" {% if product.image %}{{ product.image.url }} {% endif %}" alt="{{ product.name }}" class="showcase-img"
                  width="70">
              </a>

              <div class="showcase-content">

                <a href="{% url 'products:detail' product.handle %}">
                  <h4 class="showcase-title">{{ product.name }}</h4>
                </a>

               {% if product.category %}

                <a href="{% url 'products:list' %}?category={{ product.category.pk }}" class="showcase-category">{{ product.category }}</a>

                   {% endif %}

                <div class="price-box">

                  <p class="price">{{ product.price }} cup</p>

                </div>

              </div>

            </div>

          {% endfor %}




          </div>


        </div>

      </div>

      <div class="product-showcase">

        <h2 class="title">Mejor Calificación</h2>

        <div class="showcase-wrapper  has-scrollbar">

          <div class="showcase-container">

              {% for product in top_rated %}

            <div class="showcase">

              <a href="{% url 'products:detail' product.handle %}" class="showcase-img-box">
                <img src=" {% if product.image %}{{ product.image.url }} {% endif %}" alt="{{ product.name }}" class="showcase-img"
                  width="70">
              </a>

              <div class="showcase-content">

                <a href="{% url 'products:detail' product.handle %}">
                  <h4 class="showcase-title">{{ product.name }}</h4>
                </a>

               {% if product.category %}

                <a href="{% url 'products:list' %}?category={{ product.category.pk }}" class="showcase-category">{{ product.category }}</a>

                   {% endif %}

                <div class="price-box">

                  <p class="price">{{ product.price }} cup</p>

                </div>

              </div>

            </div>

              {% endfor %}



          </div>



        </div>

      </div>

    </div>

    <script>
    document.addEventListener("DOMContentLoaded", () => {
  const showcases = document.querySelectorAll(".product-showcase");

  showcases.forEach((showcase, index) => {
    const container = showcase.querySelector(".showcase-wrapper");

    if (container) {
      container.addEventListener("scroll", () => {
        // Calcular si el usuario ha llegado al final del scroll
        const isAtEnd =
          Math.ceil(container.scrollLeft + container.clientWidth) >= container.scrollWidth;

        if (isAtEnd && showcases[index + 1]) {
          // Mover al siguiente showcase si existe
          showcases[index + 1].scrollIntoView({ behavior: "smooth" });
        }
      });
    }
  });
});


    </script>